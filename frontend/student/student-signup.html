<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Student Signup - PopQuiz</title>
    <style>
        body{font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:100vh}
        .card{width:360px;padding:24px;border:2px solid #fff;border-radius:12px}
        input{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #555;background:#111;color:#fff}
        button{width:100%;padding:12px;border-radius:8px;border:2px solid #fff;background:transparent;color:#fff;font-weight:600;cursor:pointer}
    </style>
</head>
<body>
    <div class="signup-container">
        <div class="grid-background"></div>
        <header class="header">
            <div class="logo">POPQUIZ</div>
            <a href="../index.html" class="back-arrow">&lt;</a>
        </header>
        <div class="signup-form">
            <h1>SIGN UP</h1>
            <form id="signup-form-element">
                <div class="input-group">
                    <label for="email">EMAIL</label>
                    <input type="email" id="email" class="input-field" required>
                </div>
                <div class="input-group">
                    <label for="password">PASSWORD</label>
                    <input type="password" id="password" class="input-field" required>
                </div>
                <button type="submit" class="signup-button">SIGN UP</button>
            </form>
            <p class="signin-link">Already have an account? <a href="student-login.html">Sign In</a></p>
        </div>
    </div>

    <script>
        const signupForm = document.getElementById('signup-form-element');
        signupForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            fetch('http://localhost:8000/student/signup', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email, password })
            }).then(r => r.json().then(data => ({ok: r.ok, body: data})))
            .then(result => {
                if (!result.ok) { alert(result.body.detail || 'Signup failed'); return; }
                alert('Account created successfully! Please sign in.');
                window.location.href = 'student-login.html';
            }).catch(err => { console.error(err); alert('Unable to reach backend. Make sure the backend is running at http://localhost:8000'); });
        });
    </script>
    <div style="position:fixed;right:12px;bottom:8px;color:#777;font-size:12px">student-signup.html â€” updated</div>
    <script>console.log('student-signup.html served: updated version');</script>
</body>
</html>